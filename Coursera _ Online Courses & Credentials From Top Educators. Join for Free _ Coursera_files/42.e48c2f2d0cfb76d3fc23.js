(window.webpackJsonp=window.webpackJsonp||[]).push([[42],{"15pW":function(module,e,t){"use strict";t.d(e,"a",(function(){return c}));var r,n=t("cVIm"),a=t("BVC1"),o="",s="undefined"!=typeof window&&window.location.pathname.match(/^(\/(?:learn-2018|learn|tools\/yoda|teach|certificate|finaid\/course))(?:\/([^\/]*))?/);s?(r=s[1],s.length>2&&void 0!==s[2]&&(o=s[2])):r="/learn";var i={config:n.a,courseId:void 0,rootPath:r,learnRoot:"/learn",learnCoursePath:a.a.join("/learn",o),courseHomePath:a.a.join("/learn",o,"/home"),teachRoot:"/teach/",openCourseApi:"/api/opencourse.v1",assessApi:"/api/assess/v1",assetApi:"/api/openCourseAssets.v1",programmingAssignmentApi:"/api/programmingAssignments.v1",openCourseMembershipApi:"/api/openCourseMemberships.v1",reportsApi:"/api/reports.v1",coursesApi:"/api/onDemandCourses.v1",forumsApi:"/api/onDemandDiscussionForums.v1",certificateApi:"/api/certificate.v1",supplementCompletionApi:"/api/onDemandSupplementCompletions.v1",supplementStartApi:"/api/onDemandSupplementStarts.v1",lectureVideosApi:"onDemandLectureVideos.v1",videoProgressesApi:"/api/onDemandVideoProgresses.v1",courseRootPath:a.a.join(r,o),courseSlug:o,courseRolesWithTeachAccess:["INSTRUCTOR","TEACHING_STAFF","UNIVERSITY_ADMIN","DATA_COORDINATOR"],courseRolesWithModeratorAccess:["INSTRUCTOR","TEACHING_STAFF","UNIVERSITY_ADMIN","DATA_COORDINATOR","MENTOR","COURSE_ASSISTANT"],onboardModalStorageKey:"showProfileModal:",items:{gradableTypes:["closedPeer","exam","gradedPeer","gradedProgramming","gradedLti","phasedPeer","programming","splitPeerReviewItem","staffGraded","gradedDiscussionPrompt","teammateReview","wiseFlow","placeholder"],assessmentTypes:["closedPeer","gradedPeer","phasedPeer","splitPeerReviewItem","quiz","assessOpenSinglePage","gradedProgramming","programming","ungradedProgramming","ungradedLti","ungradedWidget","gradedLti","peer","exam","staffGraded","ungradedAssignment","gradedDiscussionPrompt","teammateReview"]},assessments:{defaultPassingFraction:.8},assets:{rootPath:n.a.url.assets},upload:{transloadit:{templates:{programming:"1683d830c1dd11e4a63a499495d4cf0f"}}},signatureTrack:{photoDisapproved:-1,verificationSubmitDelay:1e3,transitionToWebcamDuration:3e3,firefoxWebcamHelpImage:a.a.join(n.a.url.assets,"/images/signature/firefox_html5_webcam_help.png"),chromeWebcamHelpImage:a.a.join(n.a.url.assets,"/images/signature/chrome_html5_webcam_help.png"),webcamConstraintImage:a.a.join(n.a.url.assets,"/images/webcam/face_placeholder_L.png"),webcamConstraintImageWidthPercent:16,webcamConstraintImageMarginPercent:20,keystroke:{errorAllowedPrefix:2,errorAllowedSuffix:5},verificationSteps:{keystrokes:"KeystrokeRecognition",webcam:"FaceRecognition",webcamManual:"Delayed",authenticated:"Success"},vcBannerImg:a.a.join(n.a.url.assets,"/images/open-course/cert_icon.png"),vcBannerImgLg:a.a.join(n.a.url.assets,"/images/open-course/cert_icon_lg.png")},gallery:{maxTitleLength:60},progressCompleted:"Completed",progressStarted:"Started",progressNotStarted:"NotStarted",vcLandingPagePath:a.a.join("/certificate",o),courseAdminPath:a.a.join("/teach",o),certLogoWithBlueBackground:a.a.join(n.a.url.assets,"/images/promos/cdp_cert_logo.png"),courseCertificateImage:"http://s3.amazonaws.com/coursera_assets/certificates/coursecertificate.png",verifiedCertificateImage:a.a.join(n.a.url.assets,"/images/signature/template-cert-small.png"),vcLandingBulletOne:a.a.join(n.a.url.assets,"/images/open-course/LandingPage_BulletedNumbers_01.png"),vcLandingBulletTwo:a.a.join(n.a.url.assets,"/images/open-course/LandingPage_BulletedNumbers_02.png"),vcLandingBulletThree:a.a.join(n.a.url.assets,"/images/open-course/LandingPage_BulletedNumbers_03.png"),vcLandingLinkedInLogo:a.a.join(n.a.url.assets,"/images/open-course/linkedin_logo.png"),vcLandingLearnerPhoto:a.a.join(n.a.url.assets,"/images/open-course/Peter.png"),vcLandingCourseRecord:a.a.join(n.a.url.assets,"/images/open-course/CourseRecord.png"),vcLandingCourseCertificateRecord:a.a.join(n.a.url.assets,"/images/open-course/CourseCertificateExample.png"),verifiedCertificatePreviewPath:"previewVerifiedCertificate",verifiedCertificateKeyType:"OnDemandWithoutGrade",videoAutoPlay:!0,videoEndPercentage:.9,defaultVideoPlayerWidth:"960px",defaultVideoPlayerHeight:"540px",defaultNormalBandwidthVideoPlayerResolution:"540p",defaultLowBandwidthVideoPlayerResolution:"360p",lowBandwidthCountries:["CN","IN"],videoPlayerAspectRatio:9/16,videoPlayerMinHeight:240,videoStartPlaybackDelay:3,adminButtonsTopMargin:30,adminJsonEditorDivTopMargin:40,showLessonProgressBar:{development:["childnutrition"],staging:["childnutrition"],production:["competitivestrategy"]},completionExperiment:{development:["childnutrition"],staging:["childnutrition"],production:["calculus1"]},lockedAssessments:["dUNIFe9gEeSIIyIAC7LOhg"],courseTypes:{s12nPreEnroll:"s12nPreEnroll",s12nSession:"s12nSession",s12nOnDemand:"s12nOnDemand",preEnroll:"preEnroll",sessions:"sessions",certOnDemand:"certOnDemand",onDemand:"onDemand"},itemLockedReasonCodes:{PREMIUM:"PREMIUM",RESIT:"RESITTING_ITEM_LOCK_OVERRIDE",PASSABLE_ITEM_COMPLETION:"PASSABLE_ITEM_COMPLETION",PREMIUM_ITEM:"PREMIUM_ITEM",SESSION_PREVIEW:"SESSION_PREVIEW",SESSION_ENDED:"SESSION_ENDED",ENROLLMENT_PREVIEW:"ENROLLMENT_PREVIEW",TIMED_RELEASE_CONTENT:"TIMED_RELEASE_CONTENT"},itemLockedStatus:{LOCKED_FOR_SUBMITTING:"LOCKED_FOR_SUBMITTING",LOCKED_FULLY:"LOCKED_FULLY"},itemLockInfoTypeNames:{timedReleaseContentLockInfo:"timedReleaseContentLockInfo"},transifexProjectBaseUrl:"https://www.transifex.com/projects/p/"};e.b=i;var c=i.courseRolesWithTeachAccess},TKYU:function(module,e,t){"use strict";var r=t("15pW"),n=t("TSOT");e.a=Object(n.a)(r.b.openCourseMembershipApi,{type:"rest"})},jQVW:function(module,e,t){"use strict";t.d(e,"a",(function(){return r}));var r=Object.freeze({PRIVATE_BRANCH:"privateBranchContext",PUBLIC_BRANCH:"publicBranchContext",SESSION_GROUP:"sessionGroupContext",SESSION_GROUP_CREATION_JOB:"sessionGroupCreationJobContext"});e.b=r},"jq+c":function(module,e,t){"use strict";t.r(e);var r,n=t("VbXa"),a=t.n(n),o=t("q1tI"),s=t("S+eF"),i=t.n(s),c=t("DnuM"),u=t("sQ/U"),l=t("F/us"),d=t.n(l),p=t("8kE/"),m=t("15pW"),g=t("TSOT"),h=Object(g.a)(m.b.coursesApi,{type:"rest"}),E=t("uJqh"),f=t("PJYZ"),v=t.n(f),I=t("oShl"),N=function(e){function JSApplicationError(t){var r;return(r=e.call(this)||this).context=null,Error.captureStackTrace&&Error.captureStackTrace(v()(r),JSApplicationError),r.name="JSApplicationError",r.message=t,r.context=null,r.detail=null,r}return a()(JSApplicationError,e),JSApplicationError.fromError=function(e){var t;if("string"==typeof e)t=new JSApplicationError(e);else if(null!=e)if(null!=e.message)(t=new JSApplicationError(e.message)).stack=e.stack,t.detail=Object.assign({},e);else try{var r=JSON.stringify(e);t=new JSApplicationError("Object thrown as error: ".concat(r,". Please throw an actual Error instead."))}catch(r){t="TypeError"===r.name?new JSApplicationError("Cyclic object thrown/rejected as an error. Please throw an actual Error instead."):new JSApplicationError("Object thrown as error (".concat(e,") that could not be stringified (").concat(r,"). Please throw an actual Error instead."))}else t=new JSApplicationError("`undefined` or `null` thrown/rejected. Did you mean to throw/reject an Error object?");return t},JSApplicationError}(t.n(I)()(Error)),C=["instructorIds","partnerIds","_links"].join(","),L=["brandingImage","certificatePurchaseEnabledAt","partners.v1(squareLogo,rectangularLogo)","instructors.v1(fullName)","overridePartnerLogos","sessionsEnabledAt","domainTypes","premiumExperienceVariant","isRestrictedMembership"].join(","),courseData_getCourse=function(e){if(!e.elements)throw new N("Course data missing from response");var t=e.elements[0];return t.instructors=d()(t.instructorIds).map((function(t){return e.getLinkedObject("instructors.v1",t)})),t.universities=d()(t.partnerIds).map((function(t){return e.getLinkedObject("partners.v1",t)})),t},R={fromSlug:Object(p.a)((function(e){return e?i()(h.get("",{data:{q:"slug",slug:e&&e.toLowerCase(),includes:C,fields:L}})).then(E.a).then(courseData_getCourse):i.a.reject("Missing courseSlug argument")})),fromId:Object(p.a)((function(e){return e?i()(h.get(e,{data:{includes:C,fields:L}})).then(E.a).then(courseData_getCourse):i.a.reject("Missing courseId argument")}))},T=t("fw5G"),A=t.n(T),w=t("TKYU"),b=t("welz"),S=t.n(b),P=t("pWop"),y=S.a.Collection.extend({model:P.a,getEnrolled:function(){return this.filter((function(e){return e.get("courseRole")!==P.a.NOT_ENROLLED}))}}),promises_memberships=function(e){var t=function(e){var t=(new A.a).addQueryParam("q","findByUser").addQueryParam("userId",e);return i()(w.a.get(t.toString()))}(e).then((function(e){return new y(e.elements)}));return t.done(),t},O=t("8li0"),D=Object(c.a)("/api/reports.v1",{type:"rest"}),j={getBannerData:function(){var e=this;return this.getTeachingCourse().spread((function(t,r){return[t,r,e.getLearnerCounts(t,r)]}))},getVisitedTimestamp:function(){return localStorage.teachVisitedAt},setVisitedTimestamp:function(){localStorage.teachVisitedAt=Date.now()},shouldShow:function(){var e=this.getVisitedTimestamp();if(e){var t=new Date(parseInt(e)),r=new Date(Date.now());return 60*r.getHours()+r.getMinutes()-(60*t.getHours()+t.getMinutes())>10080}return!0},getTeachingCourse:function(){var e=u.a.get().id;return e?promises_memberships(e).then((function(e){var t=e.find((function(e){return e.hasTeachingRole()}));if(t&&"UNIVERSITY_ADMIN"!==t.get("courseRole")){var r=t.get("courseId");return[t,R.fromId(r)]}return i.a.reject()})).spread((function(e,t){return O.a.isLaunched(t)?[e,t]:i.a.reject()})):i.a.reject()},getLearnerCounts:function(e,t){var r=this;return i()(D.get("Course~".concat(t.id,"~activity_learner_counts"))).then((function(n){return r.validateLearnerCountsResponse(n)?n.elements[0].body:i.a.reject({membership:e,course:t})}))},validateLearnerCountsResponse:function(e){return e.elements&&e.elements[0]&&e.elements[0].body&&e.elements[0].body.latest&&e.elements[0].body.latest.starter_ever_count&&e.elements[0].body.latest.active_learner_past_1w_count&&e.elements[0].body.latest.visitor_ever_count&&e.elements[0].body["1w_ago"]&&e.elements[0].body["1w_ago"].starter_ever_count},getWeeklyNewLearnerCount:function(e){return e.latest.starter_ever_count-e["1w_ago"].starter_ever_count},getWeeklyActiveLearnerCount:function(e){return e.latest.active_learner_past_1w_count},getTotalLearnerCount:function(e){return e.latest.visitor_ever_count}},B=j,M=(t("wab5"),t("17x9")),k=t.n(M),W=t("kvW3"),V=function(e){function TotalLearnerBanner(){return e.apply(this,arguments)||this}return a()(TotalLearnerBanner,e),TotalLearnerBanner.prototype.render=function(){var e=this.props.course,t=e.name,n="/teach/".concat(e.slug),a=B.getTotalLearnerCount(this.props.learnerCounts);return o.createElement("div",{className:"rc-TotalLearnerBanner"},"A total of"," ",o.createElement("a",{href:n},o.createElement("strong",{className:"c-teach-banner-learner-count"},o.createElement(W.c,{value:a})," learners"))," ","are enrolled in ",o.createElement("span",{className:"c-teach-banner-course-name"},t),". View more on the"," ",o.createElement("a",{href:n},r||(r=o.createElement("strong",null,"Course Dashboard."))))},TotalLearnerBanner}(o.Component);V.propTypes={course:k.a.object.isRequired,learnerCounts:k.a.object.isRequired};var U,x=V,G=function(e){function WeeklyActiveLearnerBanner(){return e.apply(this,arguments)||this}return a()(WeeklyActiveLearnerBanner,e),WeeklyActiveLearnerBanner.prototype.render=function(){var e=this.props.course,t=e.name,r="/teach/".concat(e.slug),n=B.getWeeklyActiveLearnerCount(this.props.learnerCounts);return o.createElement("div",{className:"rc-WeeklyActiveLearnerBanner"},o.createElement("a",{href:r},o.createElement("strong",{className:"c-teach-banner-learner-count"},o.createElement(W.c,{value:n})," learners"))," ","were active in ",o.createElement("span",{className:"c-teach-banner-course-name"},t)," in the past week. View more on the"," ",o.createElement("a",{href:r},U||(U=o.createElement("strong",null,"Course Dashboard."))))},WeeklyActiveLearnerBanner}(o.Component);G.propTypes={course:k.a.object.isRequired,learnerCounts:k.a.object.isRequired};var J,F=G,q=function(e){function WeeklyNewLearnerBanner(){return e.apply(this,arguments)||this}return a()(WeeklyNewLearnerBanner,e),WeeklyNewLearnerBanner.prototype.render=function(){var e=this.props.course,t=e.name,r="/teach/".concat(e.slug),n=B.getWeeklyNewLearnerCount(this.props.learnerCounts);return o.createElement("div",{className:"rc-WeeklyNewLearnerBanner"},o.createElement("a",{href:r},o.createElement("strong",{className:"c-teach-banner-learner-count"},o.createElement(W.c,{value:n})," learners"))," ","enrolled in ",o.createElement("span",{className:"c-teach-banner-course-name"},t)," in the past week. View more on the"," ",o.createElement("a",{href:r},J||(J=o.createElement("strong",null,"Course Dashboard."))))},WeeklyNewLearnerBanner}(o.Component);q.propTypes={course:k.a.object.isRequired,learnerCounts:k.a.object.isRequired};var H,K,Y=[{key:"weeklyActiveLearner",component:F},{key:"weeklyNewLearner",component:q},{key:"totalLearner",component:x}],z=function(e){function TeachBanner(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).state={course:null,membership:null,learnerCounts:{},bannerIndex:-1,dismissed:!1},t.handleDismiss=function(){B.setVisitedTimestamp(),t.setState({dismissed:!0})},t}a()(TeachBanner,e);var t=TeachBanner.prototype;return t.componentDidMount=function(){var e=this;B.getBannerData().spread((function(t,r,n){var a=Math.round(Math.random()*(Y.length-1));e.setState({course:r,membership:t,learnerCounts:n,bannerIndex:a})})).catch((function(){})).done()},t.renderBanner=function(){var e=Y[this.state.bannerIndex].component;return(o.createElement(e,{course:this.state.course,learnerCounts:this.state.learnerCounts}))},t.render=function(){return this.state.course&&!this.state.dismissed&&B.shouldShow()?o.createElement("div",{className:"rc-TeachBanner bt3-alert bt3-alert-info bt3-alert-dismissable"},o.createElement("div",{className:"c-teach-banner-content"},o.createElement("button",{onClick:this.handleDismiss,className:"bt3-close","data-dismiss":"alert","aria-label":"Close"},K||(K=o.createElement("span",{"aria-hidden":"true"},"Ã—"))),this.renderBanner())):H||(H=o.createElement("div",null))},TeachBanner}(o.Component);e.default=z},pWop:function(module,e,t){"use strict";var r=t("vlZc"),n=t.n(r),a=t("S+eF"),o=t.n(a),s=t("F/us"),i=t.n(s),c=t("sQ/U"),u=t("15pW"),l=t("TKYU"),d=t("qiY+"),p=n.a.AssociatedModel.extend({api:l.a,defaults:function(){return{timestamp:Date.now()}},initialize:function(e){if(!i()(e).has("courseId"))throw new Error("You must instantiate a Membership with a courseId");this.get("userId")||this.set("userId",e.userId||c.a.get().id),i()(e).has("id")||this.set("id",this.get("userId")+"~"+this.get("courseId"),{silent:!0})},hasTeachingRole:function(){return i()(u.b.courseRolesWithTeachAccess).contains(this.get("courseRole").toUpperCase())},hasModerationRole:function(){return i()(u.b.courseRolesWithModeratorAccess).contains(this.get("courseRole").toUpperCase())},hasEnrolledRole:function(){return!i()([d.a.BROWSER,d.a.NOT_ENROLLED,d.a.PRE_ENROLLED_LEARNER]).contains(this.get("courseRole"))},hasPreEnrolled:function(){return this.get("courseRole")===d.a.PRE_ENROLLED_LEARNER},enroll:function(e){this.set("courseRole",e||d.a.LEARNER);var t={data:this.toJSON()};return o()(this.api.post("",t))},unenroll:function(){return this.set("courseRole",d.a.NOT_ENROLLED),o()(this.api.delete(this.get("id")))}},d.a);e.a=p},tIJq:function(module,e,t){"use strict";t.d(e,"a",(function(){return o})),t.d(e,"b",(function(){return s}));var r,n=t("lSNA"),a=t.n(n),o=Object.freeze({LIVE:"live",NEW:"new",UPCOMING:"upcoming",ARCHIVED:"archived",CREATING:"creating",FAILED:"failed",RUNNING:"running",ENDED:"ended",PENDING:"pending",OPEN:"open"});e.c=o;var s=(r={},a()(r,o.NEW,o.NEW),a()(r,o.FAILED,o.FAILED),a()(r,o.UPCOMING,o.UPCOMING),a()(r,o.LIVE,o.LIVE),a()(r,o.ARCHIVED,o.ARCHIVED),a()(r,o.RUNNING,o.LIVE),a()(r,o.ENDED,o.ARCHIVED),a()(r,o.PENDING,o.UPCOMING),a()(r,o.OPEN,o.LIVE),a()(r,o.CREATING,o.CREATING),r)},wab5:function(module,exports,e){e("xTv4")},xTv4:function(module,exports,e){}}]);
//# sourceMappingURL=42.e48c2f2d0cfb76d3fc23.js.map